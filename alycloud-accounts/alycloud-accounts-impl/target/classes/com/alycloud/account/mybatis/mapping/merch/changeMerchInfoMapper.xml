<?xml version="1.0" encoding="GBK" ?>  
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd"> 
<mapper namespace="com.alycloud.account.mapper.ChangeMerchInfoMapper">

	<resultMap id="changeMerchInfoResultMap" type="ChangeMerchInfo">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Oct 25 16:29:40 GMT+08:00 2017.
    -->
    <id column="id" jdbcType="INTEGER" property="id" />
    <result column="merch_id" jdbcType="INTEGER" property="merchId" />
    <result column="agentno" jdbcType="VARCHAR" property="agentno" />
    <result column="full_name" jdbcType="VARCHAR" property="fullName" />
    <result column="short_name" jdbcType="VARCHAR" property="shortName" />
    <result column="legal_name" jdbcType="VARCHAR" property="legalName" />
    <result column="id_card" jdbcType="VARCHAR" property="idCard" />
    <result column="mobile" jdbcType="VARCHAR" property="mobile" />
    <result column="email" jdbcType="VARCHAR" property="email" />
    <result column="link_man" jdbcType="VARCHAR" property="linkMan" />
    <result column="telephone" jdbcType="VARCHAR" property="telephone" />
    <result column="area_code" jdbcType="VARCHAR" property="areaCode" />
    <result column="address" jdbcType="VARCHAR" property="address" />
    <result column="img_id_card1" jdbcType="VARCHAR" property="imgIdCard1" />
    <result column="img_id_card2" jdbcType="VARCHAR" property="imgIdCard2" />
    <result column="img_id_card3" jdbcType="VARCHAR" property="imgIdCard3" />
    <result column="ori_full_name" jdbcType="VARCHAR" property="oriFullName" />
    <result column="ori_short_name" jdbcType="VARCHAR" property="oriShortName" />
    <result column="ori_legal_name" jdbcType="VARCHAR" property="oriLegalName" />
    <result column="ori_id_card" jdbcType="VARCHAR" property="oriIdCard" />
    <result column="ori_mobile" jdbcType="VARCHAR" property="oriMobile" />
    <result column="ori_email" jdbcType="VARCHAR" property="oriEmail" />
    <result column="ori_link_man" jdbcType="VARCHAR" property="oriLinkMan" />
    <result column="ori_telephone" jdbcType="VARCHAR" property="oriTelephone" />
    <result column="ori_area_code" jdbcType="VARCHAR" property="oriAreaCode" />
    <result column="ori_address" jdbcType="VARCHAR" property="oriAddress" />
    <result column="ori_img_id_card1" jdbcType="VARCHAR" property="oriImgIdCard1" />
    <result column="ori_img_id_card2" jdbcType="VARCHAR" property="oriImgIdCard2" />
    <result column="ori_img_id_card3" jdbcType="VARCHAR" property="oriImgIdCard3" />
    <result column="audit_status" jdbcType="INTEGER" property="auditStatus" />
    <result column="audit_descr" jdbcType="VARCHAR" property="auditDescr" />
    <result column="audit_time" jdbcType="VARCHAR" property="auditTime" />
    <result column="audit_agent" jdbcType="VARCHAR" property="auditAgent" />
    <result column="user_name" jdbcType="VARCHAR" property="userName" />
    <result column="add_time" jdbcType="VARCHAR" property="addTime" />
    <result column="vali_time" jdbcType="VARCHAR" property="valiTime" />
    <result column="json_str" jdbcType="VARCHAR" property="jsonStr" />
  </resultMap>
  
  <sql id="change_merch_info_Column_List">
    <!--
      WARNING - @mbg.generated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Oct 25 16:29:40 GMT+08:00 2017.
    -->
    id, merch_id, agentno, full_name, short_name, legal_name, id_card, mobile, email, 
    link_man, telephone, area_code, address, img_id_card1, img_id_card2, img_id_card3, 
    ori_full_name, ori_short_name, ori_legal_name, ori_id_card, ori_mobile, ori_email, 
    ori_link_man, ori_telephone, ori_area_code, ori_address, ori_img_id_card1, ori_img_id_card2, 
    ori_img_id_card3, audit_status, audit_descr, audit_time, audit_agent, user_name, 
    add_time
  </sql>
  
	<insert 
    	id="add"
    	parameterType="ChangeMerchInfo">
    	insert into change_merch_info(
			merch_id,agentno,full_name,short_name,legal_name,id_card,mobile,
			email,link_man,telephone,area_code,address,img_id_card1,img_id_card2,img_id_card3,
			ori_full_name,ori_short_name,ori_legal_name,ori_id_card,ori_mobile,
			ori_email,ori_link_man,ori_telephone,ori_area_code,ori_address,
			ori_img_id_card1,ori_img_id_card2,ori_img_id_card3,
			audit_status,audit_descr,audit_time,add_time,vali_time,json_str
    	)values(
			#{merchId},#{agentno},#{fullName},#{shortName},#{legalName},#{idCard},#{mobile},
			#{email},#{linkMan},#{telephone},#{areaCode},#{address},#{imgIdCard1},#{imgIdCard2},#{imgIdCard3},
			#{oriFullName},#{oriShortName},#{oriLegalName},#{oriIdCard},#{oriMobile},
			#{oriEmail},#{oriLinkMan},#{oriTelephone},#{oriAreaCode},#{oriAddress},
			#{oriImgIdCard1},#{oriImgIdCard2},#{oriImgIdCard3},
			#{auditStatus},#{auditDescr},#{auditTime},#{addTime},#{valiTime},#{jsonStr}
    	)
    </insert>
    
    <!-- 
    	更新记录 
    -->
    <update 
		id="mod" 
		parameterType="ChangeMerchInfo">
	  update change_merch_info set
      merch_id = #{merchId,jdbcType=INTEGER},
      agentno = #{agentno,jdbcType=VARCHAR},
      full_name = #{fullName,jdbcType=VARCHAR},
      short_name = #{shortName,jdbcType=VARCHAR},
      legal_name = #{legalName,jdbcType=VARCHAR},
      id_card = #{idCard,jdbcType=VARCHAR},
      email = #{email,jdbcType=VARCHAR},
      link_man = #{linkMan,jdbcType=VARCHAR},
      telephone = #{telephone,jdbcType=VARCHAR},
      area_code = #{areaCode,jdbcType=VARCHAR},
      address = #{address,jdbcType=VARCHAR},
      img_id_card1 = #{imgIdCard1,jdbcType=VARCHAR},
      img_id_card2 = #{imgIdCard2,jdbcType=VARCHAR},
      img_id_card3 = #{imgIdCard3,jdbcType=VARCHAR},
      ori_full_name = #{oriFullName,jdbcType=VARCHAR},
      ori_short_name = #{oriShortName,jdbcType=VARCHAR},
      ori_legal_name = #{oriLegalName,jdbcType=VARCHAR},
      ori_id_card = #{oriIdCard,jdbcType=VARCHAR},
      ori_mobile = #{oriMobile,jdbcType=VARCHAR},
      ori_email = #{oriEmail,jdbcType=VARCHAR},
      ori_link_man = #{oriLinkMan,jdbcType=VARCHAR},
      ori_telephone = #{oriTelephone,jdbcType=VARCHAR},
      ori_area_code = #{oriAreaCode,jdbcType=VARCHAR},
      ori_address = #{oriAddress,jdbcType=VARCHAR},
      ori_img_id_card1 = #{oriImgIdCard1,jdbcType=VARCHAR},
      ori_img_id_card2 = #{oriImgIdCard2,jdbcType=VARCHAR},
      ori_img_id_card3 = #{oriImgIdCard3,jdbcType=VARCHAR},
      audit_status = #{auditStatus,jdbcType=INTEGER},
      audit_descr = #{auditDescr,jdbcType=VARCHAR},
      audit_time = #{auditTime,jdbcType=VARCHAR},
      audit_agent = #{auditAgent,jdbcType=VARCHAR},
      user_name = #{userName,jdbcType=VARCHAR},
      add_time = #{addTime,jdbcType=VARCHAR},
      vali_time = #{valiTime,jdbcType=VARCHAR}
	  where merch_id = #{merchId}
	</update>
	
    <select 
    	id="list"
    	parameterType="ChangeMerchInfo"
    	resultMap="changeMerchInfoResultMap">
    	select 
    		 <include refid="change_merch_info_Column_List"/>
    	from change_merch_info
    	where merch_id = #{merchId}
    </select>
    
    <!--  
    	分页查询信息
    -->
    <select 
    	id="listByPage"
    	parameterType="ChangeMerchInfo4Search"
    	resultType="ChangeMerchInfo">
    	select 
    		 <include refid="change_merch_info_Column_List"/>
    	from change_merch_info
    	where merch_id = #{merchId}
    </select>
    
    <!-- Horanluo  2017.11.07 -->
    <update 
		id="updateToAuditInfo" 
		parameterType="ChangeMerchInfo">
	  update change_merch_info cmi
	  set
      cmi.merch_id = #{merchId,jdbcType=INTEGER},
      cmi.agentno = #{agentno,jdbcType=VARCHAR},
      cmi.full_name = #{fullName,jdbcType=VARCHAR},
      cmi.short_name = #{shortName,jdbcType=VARCHAR},
      cmi.legal_name = #{legalName,jdbcType=VARCHAR},
      cmi.id_card = #{idCard,jdbcType=VARCHAR},
      cmi.email = #{email,jdbcType=VARCHAR},
      cmi.link_man = #{linkMan,jdbcType=VARCHAR},
      cmi.telephone = #{telephone,jdbcType=VARCHAR},
      cmi.area_code = #{areaCode,jdbcType=VARCHAR},
      cmi.address = #{address,jdbcType=VARCHAR},
      cmi.img_id_card1 = #{imgIdCard1,jdbcType=VARCHAR},
      cmi.img_id_card2 = #{imgIdCard2,jdbcType=VARCHAR},
      cmi.img_id_card3 = #{imgIdCard3,jdbcType=VARCHAR},
      cmi.ori_full_name = #{oriFullName,jdbcType=VARCHAR},
      cmi.ori_short_name = #{oriShortName,jdbcType=VARCHAR},
      cmi.ori_legal_name = #{oriLegalName,jdbcType=VARCHAR},
      cmi.ori_id_card = #{oriIdCard,jdbcType=VARCHAR},
      cmi.ori_mobile = #{oriMobile,jdbcType=VARCHAR},
      cmi.ori_email = #{oriEmail,jdbcType=VARCHAR},
      cmi.ori_link_man = #{oriLinkMan,jdbcType=VARCHAR},
      cmi.ori_telephone = #{oriTelephone,jdbcType=VARCHAR},
      cmi.ori_area_code = #{oriAreaCode,jdbcType=VARCHAR},
      cmi.ori_address = #{oriAddress,jdbcType=VARCHAR},
      cmi.ori_img_id_card1 = #{oriImgIdCard1,jdbcType=VARCHAR},
      cmi.ori_img_id_card2 = #{oriImgIdCard2,jdbcType=VARCHAR},
      cmi.ori_img_id_card3 = #{oriImgIdCard3,jdbcType=VARCHAR},
      cmi.audit_status = #{auditStatus,jdbcType=INTEGER},
      cmi.audit_descr = #{auditDescr,jdbcType=VARCHAR},
      cmi.audit_time = #{auditTime,jdbcType=VARCHAR},
      cmi.audit_agent = #{auditAgent,jdbcType=VARCHAR},
      cmi.user_name = #{userName,jdbcType=VARCHAR},
      cmi.add_time = #{addTime,jdbcType=VARCHAR},
      cmi.json_str = #{jsonStr,jdbcType=VARCHAR}
	  where cmi.id = #{id}
	</update>
	
	<select 
    	id="getChangeMerchInfo"
    	parameterType="String"
    	resultMap="changeMerchInfoResultMap">
    	select 
    		 cmi.id, cmi.merch_id, cmi.agentno, cmi.full_name, cmi.short_name, cmi.legal_name, cmi.id_card, cmi.mobile, cmi.email, 
	    cmi.link_man, cmi.telephone, cmi.area_code, cmi.address, cmi.img_id_card1, cmi.img_id_card2, cmi.img_id_card3, 
	    cmi.ori_full_name, cmi.ori_short_name, cmi.ori_legal_name, cmi.ori_id_card, cmi.ori_mobile, cmi.ori_email, 
	    cmi.ori_link_man, cmi.ori_telephone, cmi.ori_area_code, cmi.ori_address, cmi.ori_img_id_card1, cmi.ori_img_id_card2, 
	    cmi.ori_img_id_card3, cmi.audit_status, cmi.audit_descr, cmi.audit_time, cmi.audit_agent, cmi.user_name, cmi.add_time,cmi.json_str
    	from change_merch_info cmi
    	left join merch_info mi on cmi.merch_id=mi.id 
    	where mi.merchno = #{merchno}
    </select>
	<!-- Horanluo  2017.11.07 -->
</mapper>